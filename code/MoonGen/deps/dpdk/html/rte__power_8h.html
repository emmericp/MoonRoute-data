<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>DPDK: lib/librte_power/rte_power.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_fcaecf9e47d3074427ceb27ca105ed74.html">lib</a></li><li class="navelem"><a class="el" href="dir_3f90000ee5916ae0ceedfe74379ec549.html">librte_power</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rte_power.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="rte__common_8h.html">rte_common.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__byteorder_8h.html">rte_byteorder.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__log_8h.html">rte_log.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__string__fns_8h.html">rte_string_fns.h</a>&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8d1e1e0ad36c8fece2c4c4c06ebe307b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__power_8h.html#a8d1e1e0ad36c8fece2c4c4c06ebe307b">rte_power_init</a> (unsigned lcore_id)</td></tr>
<tr class="separator:a8d1e1e0ad36c8fece2c4c4c06ebe307b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a490d4829c85c7fa3a401901c093a758b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__power_8h.html#a490d4829c85c7fa3a401901c093a758b">rte_power_exit</a> (unsigned lcore_id)</td></tr>
<tr class="separator:a490d4829c85c7fa3a401901c093a758b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a558597d34d36d015d0c9cfecc9276361"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__power_8h.html#a558597d34d36d015d0c9cfecc9276361">rte_power_freqs</a> (unsigned lcore_id, uint32_t *freqs, uint32_t num)</td></tr>
<tr class="separator:a558597d34d36d015d0c9cfecc9276361"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb26e0d9ef454f0dbdec9abb6ee76288"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__power_8h.html#aeb26e0d9ef454f0dbdec9abb6ee76288">rte_power_get_freq</a> (unsigned lcore_id)</td></tr>
<tr class="separator:aeb26e0d9ef454f0dbdec9abb6ee76288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab80c06a12c257cf05c3d8811f96bb23"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__power_8h.html#aab80c06a12c257cf05c3d8811f96bb23">rte_power_set_freq</a> (unsigned lcore_id, uint32_t index)</td></tr>
<tr class="separator:aab80c06a12c257cf05c3d8811f96bb23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08e55e75f523904aeb1834692c2fabeb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__power_8h.html#a08e55e75f523904aeb1834692c2fabeb">rte_power_freq_up</a> (unsigned lcore_id)</td></tr>
<tr class="separator:a08e55e75f523904aeb1834692c2fabeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0950e47fe28b59e6fea8149815bf1e9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__power_8h.html#ac0950e47fe28b59e6fea8149815bf1e9">rte_power_freq_down</a> (unsigned lcore_id)</td></tr>
<tr class="separator:ac0950e47fe28b59e6fea8149815bf1e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09567f91e0cc7601820a134fc5d8de85"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__power_8h.html#a09567f91e0cc7601820a134fc5d8de85">rte_power_freq_max</a> (unsigned lcore_id)</td></tr>
<tr class="separator:a09567f91e0cc7601820a134fc5d8de85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a6fcaa3c6bb35a149742c89282eb0a1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__power_8h.html#a4a6fcaa3c6bb35a149742c89282eb0a1">rte_power_freq_min</a> (unsigned lcore_id)</td></tr>
<tr class="separator:a4a6fcaa3c6bb35a149742c89282eb0a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RTE Power Management </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a490d4829c85c7fa3a401901c093a758b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_power_exit </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>lcore_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Exit power management on a specific lcore. It will set the governor to which is before initialized.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcore_id</td><td>lcore id.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success.</li>
<li>Negative on error. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ac0950e47fe28b59e6fea8149815bf1e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_power_freq_down </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>lcore_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Scale down the frequency of a specific lcore according to the available frequencies. It should be protected outside of this function for threadsafe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcore_id</td><td>lcore id.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>1 on success with frequency changed.</li>
<li>0 on success without frequency chnaged.</li>
<li>Negative on error. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a09567f91e0cc7601820a134fc5d8de85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_power_freq_max </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>lcore_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Scale up the frequency of a specific lcore to the highest according to the available frequencies. It should be protected outside of this function for threadsafe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcore_id</td><td>lcore id.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>1 on success with frequency changed.</li>
<li>0 on success without frequency chnaged.</li>
<li>Negative on error. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a4a6fcaa3c6bb35a149742c89282eb0a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_power_freq_min </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>lcore_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Scale down the frequency of a specific lcore to the lowest according to the available frequencies. It should be protected outside of this function for threadsafe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcore_id</td><td>lcore id.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>1 on success with frequency changed.</li>
<li>0 on success without frequency chnaged.</li>
<li>Negative on error. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a08e55e75f523904aeb1834692c2fabeb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_power_freq_up </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>lcore_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Scale up the frequency of a specific lcore according to the available frequencies. It should be protected outside of this function for threadsafe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcore_id</td><td>lcore id.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>1 on success with frequency changed.</li>
<li>0 on success without frequency chnaged.</li>
<li>Negative on error. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a558597d34d36d015d0c9cfecc9276361"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t rte_power_freqs </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>lcore_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>freqs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the available frequencies of a specific lcore. The return value will be the minimal one of the total number of available frequencies and the number of buffer. The index of available frequencies used in other interfaces should be in the range of 0 to this return value. It should be protected outside of this function for threadsafe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcore_id</td><td>lcore id. </td></tr>
    <tr><td class="paramname">freqs</td><td>The buffer array to save the frequencies. </td></tr>
    <tr><td class="paramname">num</td><td>The number of frequencies to get.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of available frequencies. </dd></dl>

</div>
</div>
<a class="anchor" id="aeb26e0d9ef454f0dbdec9abb6ee76288"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t rte_power_get_freq </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>lcore_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the current index of available frequencies of a specific lcore. It will return 'RTE_POWER_INVALID_FREQ_INDEX = (~0)' if error. It should be protected outside of this function for threadsafe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcore_id</td><td>lcore id.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current index of available frequencies. </dd></dl>

</div>
</div>
<a class="anchor" id="a8d1e1e0ad36c8fece2c4c4c06ebe307b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_power_init </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>lcore_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize power management for a specific lcore. It will check and set the governor to userspace for the lcore, get the available frequencies, and prepare to set new lcore frequency.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcore_id</td><td>lcore id.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success.</li>
<li>Negative on error. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="aab80c06a12c257cf05c3d8811f96bb23"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_power_set_freq </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>lcore_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the new frequency for a specific lcore by indicating the index of available frequencies. It should be protected outside of this function for threadsafe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcore_id</td><td>lcore id. </td></tr>
    <tr><td class="paramname">index</td><td>The index of available frequencies.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>1 on success with frequency changed.</li>
<li>0 on success without frequency chnaged.</li>
<li>Negative on error. </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
