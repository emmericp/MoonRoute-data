<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>DPDK: lib/librte_lpm/rte_lpm.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_fcaecf9e47d3074427ceb27ca105ed74.html">lib</a></li><li class="navelem"><a class="el" href="dir_f3408852bcb3af3c1872c2b531ade736.html">librte_lpm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rte_lpm.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;sys/queue.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__branch__prediction_8h.html">rte_branch_prediction.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__memory_8h.html">rte_memory.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__common_8h.html">rte_common.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__common__vect_8h.html">rte_common_vect.h</a>&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a89212b12cc0712bf0464399e654c9f25"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a89212b12cc0712bf0464399e654c9f25">RTE_LPM_NAMESIZE</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a89212b12cc0712bf0464399e654c9f25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf0e506aba75100fcc22c35362fd2ed4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#acf0e506aba75100fcc22c35362fd2ed4">RTE_LPM_HEAP</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:acf0e506aba75100fcc22c35362fd2ed4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc87a0a0cad13bf88e3a65649f4d6beb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#afc87a0a0cad13bf88e3a65649f4d6beb">RTE_LPM_MEMZONE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:afc87a0a0cad13bf88e3a65649f4d6beb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00207b4fecdb9058c4072a59abac1d52"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a00207b4fecdb9058c4072a59abac1d52">RTE_LPM_MAX_DEPTH</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a00207b4fecdb9058c4072a59abac1d52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ae31c18e8e385d52aa68cd2787d7e2a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a8ae31c18e8e385d52aa68cd2787d7e2a">RTE_LPM_LOOKUP_SUCCESS</a>&#160;&#160;&#160;0x0100</td></tr>
<tr class="separator:a8ae31c18e8e385d52aa68cd2787d7e2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50015c45c3fde72568c8ba303ded2288"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a50015c45c3fde72568c8ba303ded2288">rte_lpm_lookup_bulk</a>(lpm,  ips,  next_hops,  n)&#160;&#160;&#160;rte_lpm_lookup_bulk_func(lpm, ips, next_hops, n)</td></tr>
<tr class="separator:a50015c45c3fde72568c8ba303ded2288"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4efdaed45193082d0ad6ca23b9b33d87"><td class="memItemLeft" align="right" valign="top">struct rte_lpm *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a4efdaed45193082d0ad6ca23b9b33d87">rte_lpm_create</a> (const char *name, int socket_id, int max_rules, int flags)</td></tr>
<tr class="separator:a4efdaed45193082d0ad6ca23b9b33d87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31022533b1dadc320b8e4dad049d5213"><td class="memItemLeft" align="right" valign="top">struct rte_lpm *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a31022533b1dadc320b8e4dad049d5213">rte_lpm_find_existing</a> (const char *name)</td></tr>
<tr class="separator:a31022533b1dadc320b8e4dad049d5213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79ddd328a0546c49cdc7ab10ea8d2765"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a79ddd328a0546c49cdc7ab10ea8d2765">rte_lpm_free</a> (struct rte_lpm *lpm)</td></tr>
<tr class="separator:a79ddd328a0546c49cdc7ab10ea8d2765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefdf3e8c17afd27e4389222f97f637b6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#aefdf3e8c17afd27e4389222f97f637b6">rte_lpm_add</a> (struct rte_lpm *lpm, uint32_t ip, uint8_t depth, uint8_t next_hop)</td></tr>
<tr class="separator:aefdf3e8c17afd27e4389222f97f637b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f813f7871d3850619f94f588dbef3a1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a5f813f7871d3850619f94f588dbef3a1">rte_lpm_is_rule_present</a> (struct rte_lpm *lpm, uint32_t ip, uint8_t depth, uint8_t *next_hop)</td></tr>
<tr class="separator:a5f813f7871d3850619f94f588dbef3a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16edbff0196beb69b413827c7ef5bfa4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a16edbff0196beb69b413827c7ef5bfa4">rte_lpm_delete</a> (struct rte_lpm *lpm, uint32_t ip, uint8_t depth)</td></tr>
<tr class="separator:a16edbff0196beb69b413827c7ef5bfa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab285af0847c33a5a6f1c7aedc6b00ba1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#ab285af0847c33a5a6f1c7aedc6b00ba1">rte_lpm_delete_all</a> (struct rte_lpm *lpm)</td></tr>
<tr class="separator:ab285af0847c33a5a6f1c7aedc6b00ba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a10aea83bb2088887ef170a9fca9c9f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a1a10aea83bb2088887ef170a9fca9c9f">rte_lpm_lookup</a> (struct rte_lpm *lpm, uint32_t ip, uint8_t *next_hop)</td></tr>
<tr class="separator:a1a10aea83bb2088887ef170a9fca9c9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab589b06a6805dc8db509e4b0bfff3443"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#ab589b06a6805dc8db509e4b0bfff3443">rte_lpm_lookupx4</a> (const struct rte_lpm *lpm, __m128i ip, uint16_t hop[4], uint16_t defv)</td></tr>
<tr class="separator:ab589b06a6805dc8db509e4b0bfff3443"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RTE Longest Prefix Match (LPM) </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="acf0e506aba75100fcc22c35362fd2ed4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_LPM_HEAP&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a50015c45c3fde72568c8ba303ded2288"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rte_lpm_lookup_bulk</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lpm, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ips, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">next_hops, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;rte_lpm_lookup_bulk_func(lpm, ips, next_hops, n)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lookup multiple IP addresses in an LPM table. This may be implemented as a macro, so the address of the function should not be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lpm</td><td>LPM object handle </td></tr>
    <tr><td class="paramname">ips</td><td>Array of IPs to be looked up in the LPM table </td></tr>
    <tr><td class="paramname">next_hops</td><td>Next hop of the most specific rule found for IP (valid on lookup hit only). This is an array of two byte values. The most significant byte in each value says whether the lookup was successful (bitmask RTE_LPM_LOOKUP_SUCCESS is set). The least significant byte is the actual next hop. </td></tr>
    <tr><td class="paramname">n</td><td>Number of elements in ips (and next_hops) array to lookup. This should be a compile time constant, and divisible by 8 for best performance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-EINVAL for incorrect arguments, otherwise 0 </dd></dl>

</div>
</div>
<a class="anchor" id="a8ae31c18e8e385d52aa68cd2787d7e2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_LPM_LOOKUP_SUCCESS&#160;&#160;&#160;0x0100</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bitmask used to indicate successful lookup </p>

</div>
</div>
<a class="anchor" id="a00207b4fecdb9058c4072a59abac1d52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_LPM_MAX_DEPTH&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum depth value possible for IPv4 LPM. </p>

</div>
</div>
<a class="anchor" id="afc87a0a0cad13bf88e3a65649f4d6beb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_LPM_MEMZONE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a89212b12cc0712bf0464399e654c9f25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_LPM_NAMESIZE&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max number of characters in LPM name. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aefdf3e8c17afd27e4389222f97f637b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_lpm_add </td>
          <td>(</td>
          <td class="paramtype">struct rte_lpm *&#160;</td>
          <td class="paramname"><em>lpm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>next_hop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a rule to the LPM table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lpm</td><td>LPM object handle </td></tr>
    <tr><td class="paramname">ip</td><td>IP of the rule to be added to the LPM table </td></tr>
    <tr><td class="paramname">depth</td><td>Depth of the rule to be added to the LPM table </td></tr>
    <tr><td class="paramname">next_hop</td><td>Next hop of the rule to be added to the LPM table </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative value otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a4efdaed45193082d0ad6ca23b9b33d87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct rte_lpm* rte_lpm_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>socket_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_rules</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create an LPM object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>LPM object name </td></tr>
    <tr><td class="paramname">socket_id</td><td>NUMA socket ID for LPM table memory allocation </td></tr>
    <tr><td class="paramname">max_rules</td><td>Maximum number of LPM rules that can be added </td></tr>
    <tr><td class="paramname">flags</td><td>This parameter is currently unused </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Handle to LPM object on success, NULL otherwise with rte_errno set to an appropriate values. Possible rte_errno values include:<ul>
<li>E_RTE_NO_CONFIG - function could not get pointer to <a class="el" href="structrte__config.html">rte_config</a> structure</li>
<li>E_RTE_SECONDARY - function was called from a secondary process instance</li>
<li>E_RTE_NO_TAILQ - no tailq list could be got for the lpm object list</li>
<li>EINVAL - invalid parameter passed to function</li>
<li>ENOSPC - the maximum number of memzones has already been allocated</li>
<li>EEXIST - a memzone with the same name already exists</li>
<li>ENOMEM - no appropriate memory area found in which to create memzone </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a16edbff0196beb69b413827c7ef5bfa4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_lpm_delete </td>
          <td>(</td>
          <td class="paramtype">struct rte_lpm *&#160;</td>
          <td class="paramname"><em>lpm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>depth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete a rule from the LPM table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lpm</td><td>LPM object handle </td></tr>
    <tr><td class="paramname">ip</td><td>IP of the rule to be deleted from the LPM table </td></tr>
    <tr><td class="paramname">depth</td><td>Depth of the rule to be deleted from the LPM table </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative value otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="ab285af0847c33a5a6f1c7aedc6b00ba1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rte_lpm_delete_all </td>
          <td>(</td>
          <td class="paramtype">struct rte_lpm *&#160;</td>
          <td class="paramname"><em>lpm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete all rules from the LPM table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lpm</td><td>LPM object handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a31022533b1dadc320b8e4dad049d5213"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct rte_lpm* rte_lpm_find_existing </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find an existing LPM object and return a pointer to it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the lpm object as passed to <a class="el" href="rte__lpm_8h.html#a4efdaed45193082d0ad6ca23b9b33d87">rte_lpm_create()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to lpm object or NULL if object not found with rte_errno set appropriately. Possible rte_errno values include:<ul>
<li>ENOENT - required entry not available to return. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a79ddd328a0546c49cdc7ab10ea8d2765"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rte_lpm_free </td>
          <td>(</td>
          <td class="paramtype">struct rte_lpm *&#160;</td>
          <td class="paramname"><em>lpm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free an LPM object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lpm</td><td>LPM object handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a class="anchor" id="a5f813f7871d3850619f94f588dbef3a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_lpm_is_rule_present </td>
          <td>(</td>
          <td class="paramtype">struct rte_lpm *&#160;</td>
          <td class="paramname"><em>lpm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>next_hop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if a rule is present in the LPM table, and provide its next hop if it is.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lpm</td><td>LPM object handle </td></tr>
    <tr><td class="paramname">ip</td><td>IP of the rule to be searched </td></tr>
    <tr><td class="paramname">depth</td><td>Depth of the rule to searched </td></tr>
    <tr><td class="paramname">next_hop</td><td>Next hop of the rule (valid only if it is found) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the rule exists, 0 if it does not, a negative value on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a1a10aea83bb2088887ef170a9fca9c9f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rte_lpm_lookup </td>
          <td>(</td>
          <td class="paramtype">struct rte_lpm *&#160;</td>
          <td class="paramname"><em>lpm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>next_hop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Lookup an IP into the LPM table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lpm</td><td>LPM object handle </td></tr>
    <tr><td class="paramname">ip</td><td>IP to be looked up in the LPM table </td></tr>
    <tr><td class="paramname">next_hop</td><td>Next hop of the most specific rule found for IP (valid on lookup hit only) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-EINVAL for incorrect arguments, -ENOENT on lookup miss, 0 on lookup hit </dd></dl>

</div>
</div>
<a class="anchor" id="ab589b06a6805dc8db509e4b0bfff3443"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rte_lpm_lookupx4 </td>
          <td>(</td>
          <td class="paramtype">const struct rte_lpm *&#160;</td>
          <td class="paramname"><em>lpm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__m128i&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>hop</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>defv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Lookup four IP addresses in an LPM table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lpm</td><td>LPM object handle </td></tr>
    <tr><td class="paramname">ip</td><td>Four IPs to be looked up in the LPM table </td></tr>
    <tr><td class="paramname">hop</td><td>Next hop of the most specific rule found for IP (valid on lookup hit only). This is an 4 elements array of two byte values. If the lookup was succesfull for the given IP, then least significant byte of the corresponding element is the actual next hop and the most significant byte is zero. If the lookup for the given IP failed, then corresponding element would contain default value, see description of then next parameter. </td></tr>
    <tr><td class="paramname">defv</td><td>Default value to populate into corresponding element of hop[] array, if lookup would fail. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
